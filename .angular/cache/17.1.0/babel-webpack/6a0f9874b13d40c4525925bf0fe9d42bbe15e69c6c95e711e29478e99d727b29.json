{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/logistics.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/components/chart/chart.component\";\nfunction LogisticsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading logistics data...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LogisticsComponent_div_7_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCA7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function LogisticsComponent_div_7_div_29_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const pump_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.activatePump(pump_r4.id));\n    });\n    i0.ɵɵtext(9, \"Activate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pump_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", pump_r4.status);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Pump \", pump_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pump_r4.status);\n  }\n}\nfunction LogisticsComponent_div_7_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 31);\n    i0.ɵɵtext(2, \"\\uD83E\\uDDEA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 32)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function LogisticsComponent_div_7_div_36_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const nutrient_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.refillNutrient(nutrient_r7.id));\n    });\n    i0.ɵɵtext(9, \"Refill\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const nutrient_r7 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.getStatusClass(nutrient_r7.percentage));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(nutrient_r7.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", nutrient_r7.percentage, \"%\");\n  }\n}\nfunction LogisticsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"section\", 8)(2, \"div\", 9)(3, \"div\", 10)(4, \"h2\");\n    i0.ɵɵtext(5, \"System Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"span\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\", 13)(10, \"input\", 14);\n    i0.ɵɵlistener(\"change\", function LogisticsComponent_div_7_Template_input_change_10_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.toggleAutomationMode());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"span\", 15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 16)(13, \"div\", 17)(14, \"div\", 18);\n    i0.ɵɵtext(15, \"\\uD83D\\uDCE1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 19)(17, \"h3\");\n    i0.ɵɵtext(18, \"Connection\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 17)(22, \"div\", 18);\n    i0.ɵɵtext(23, \"\\u26A1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 19)(25, \"h3\");\n    i0.ɵɵtext(26, \"Power\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"p\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(29, LogisticsComponent_div_7_div_29_Template, 10, 3, \"div\", 20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"section\", 21)(31, \"div\", 9)(32, \"div\", 10)(33, \"h2\");\n    i0.ɵɵtext(34, \"Nutrient Levels\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 22);\n    i0.ɵɵtemplate(36, LogisticsComponent_div_7_div_36_Template, 10, 3, \"div\", 23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"section\", 24)(38, \"div\", 9)(39, \"div\", 10)(40, \"h2\");\n    i0.ɵɵtext(41, \"Water Level\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 25)(43, \"h3\");\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function LogisticsComponent_div_7_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.refillWater());\n    });\n    i0.ɵɵtext(46, \"Refill\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(47, \"div\", 27)(48, \"h3\");\n    i0.ɵɵtext(49, \"Water Usage History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(50, \"app-chart\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 27)(52, \"h3\");\n    i0.ɵɵtext(53, \"Nutrient Usage History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(54, \"app-chart\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.isAutoMode ? \"Auto\" : \"Manual\", \" Mode\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r1.isAutoMode);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.systemStatus == null ? null : ctx_r1.systemStatus.connectionStatus);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.systemStatus == null ? null : ctx_r1.systemStatus.connectionStatus);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.systemStatus == null ? null : ctx_r1.systemStatus.powerStatus);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.systemStatus == null ? null : ctx_r1.systemStatus.powerStatus);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.systemStatus == null ? null : ctx_r1.systemStatus.pumps);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.nutrientLevels);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getStatusClass(ctx_r1.waterLevel == null ? null : ctx_r1.waterLevel.percentage));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.waterLevel == null ? null : ctx_r1.waterLevel.percentage, \"%\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"data\", ctx_r1.usageData)(\"labels\", ctx_r1.usageDates)(\"label\", \"Water Usage (L)\")(\"type\", \"line\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", ctx_r1.nutrientData)(\"labels\", ctx_r1.usageDates)(\"label\", \"Nutrient Usage (mL)\")(\"type\", \"line\");\n  }\n}\nexport class LogisticsComponent {\n  constructor(logisticsService) {\n    this.logisticsService = logisticsService;\n    this.destroy$ = new Subject();\n    this.systemStatus = {\n      connectionStatus: 'disconnected',\n      powerStatus: 'off',\n      automationMode: 'manual',\n      pumps: [],\n      lastUpdated: new Date(),\n      status: 'operational',\n      message: 'System initialized'\n    };\n    this.nutrientLevels = [{\n      id: 'nutrient-a',\n      name: 'Nutrient A',\n      level: 0,\n      percentage: 0,\n      unit: 'ppm',\n      status: 'normal',\n      lastUpdated: new Date()\n    }];\n    this.waterLevel = {\n      current: 0,\n      capacity: 100,\n      percentage: 0,\n      status: 'normal',\n      lastUpdated: new Date()\n    };\n    this.isLoading = true;\n    this.isAutoMode = true;\n    // Chart properties\n    this.usageChartData = {\n      labels: [],\n      datasets: []\n    };\n    this.chartOptions = {\n      responsive: true,\n      maintainAspectRatio: false,\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    };\n    // Chart data properties\n    this.usageData = [];\n    this.nutrientData = [];\n    this.usageDates = [];\n  }\n  ngOnInit() {\n    this.loadLogisticsData();\n    this.loadUsageChart();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  loadLogisticsData() {\n    this.isLoading = true;\n    this.logisticsService.getNutrientLevels().pipe(takeUntil(this.destroy$)).subscribe({\n      next: nutrients => {\n        this.nutrientLevels = nutrients;\n      },\n      error: error => {\n        console.error('Error loading nutrient levels:', error);\n      }\n    });\n    this.logisticsService.getWaterLevel().pipe(takeUntil(this.destroy$)).subscribe({\n      next: water => {\n        this.waterLevel = water;\n      },\n      error: error => {\n        console.error('Error loading water level:', error);\n      }\n    });\n    this.logisticsService.getSystemStatus().pipe(takeUntil(this.destroy$)).subscribe({\n      next: status => {\n        this.systemStatus = status;\n        this.isAutoMode = status.automationMode === 'auto';\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Error loading system status:', error);\n        this.isLoading = false;\n      }\n    });\n  }\n  loadUsageChart() {\n    this.logisticsService.getUsageHistory().pipe(takeUntil(this.destroy$)).subscribe({\n      next: data => {\n        this.usageDates = data.dates;\n        this.usageData = data.waterUsage;\n        this.nutrientData = data.nutrientAUsage;\n      },\n      error: error => {\n        console.error('Error loading usage history:', error);\n      }\n    });\n  }\n  toggleAutomationMode() {\n    const newMode = this.isAutoMode ? 'manual' : 'auto';\n    this.logisticsService.setAutomationMode(newMode).pipe(takeUntil(this.destroy$)).subscribe({\n      next: status => {\n        this.systemStatus = status;\n        this.isAutoMode = (status && status.automationMode?.toLowerCase?.()) === 'auto';\n        console.log(`Automation mode set to ${this.isAutoMode ? 'auto' : 'manual'}`);\n      },\n      error: error => {\n        console.error('Error toggling automation mode:', error);\n        // Reset the toggle if there was an error\n        this.isAutoMode = !this.isAutoMode;\n      }\n    });\n  }\n  activatePump(pumpId) {\n    this.logisticsService.activatePump(pumpId).pipe(takeUntil(this.destroy$)).subscribe({\n      next: status => {\n        this.systemStatus = status;\n      },\n      error: error => {\n        console.error(`Error activating pump ${pumpId}:`, error);\n      }\n    });\n  }\n  refillNutrient(nutrientId) {\n    this.logisticsService.confirmNutrientRefill(nutrientId).pipe(takeUntil(this.destroy$)).subscribe({\n      next: nutrients => {\n        this.nutrientLevels = nutrients;\n      },\n      error: error => {\n        console.error(`Error confirming refill for nutrient ${nutrientId}:`, error);\n      }\n    });\n  }\n  refillWater() {\n    this.logisticsService.confirmWaterRefill().pipe(takeUntil(this.destroy$)).subscribe({\n      next: water => {\n        this.waterLevel = water;\n      },\n      error: error => {\n        console.error('Error confirming water refill:', error);\n      }\n    });\n  }\n  getStatusClass(percentage) {\n    if (percentage <= 20) return 'critical';\n    if (percentage <= 40) return 'warning';\n    return 'normal';\n  }\n  static {\n    this.ɵfac = function LogisticsComponent_Factory(t) {\n      return new (t || LogisticsComponent)(i0.ɵɵdirectiveInject(i1.LogisticsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LogisticsComponent,\n      selectors: [[\"app-logistics\"]],\n      decls: 8,\n      vars: 2,\n      consts: [[1, \"logistics-container\"], [1, \"section-header\"], [1, \"section-description\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"logistics-content\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"loading-spinner\"], [1, \"logistics-content\"], [1, \"system-status\"], [1, \"card\"], [1, \"card-header\"], [1, \"automation-toggle\"], [1, \"toggle-label\"], [1, \"switch\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [1, \"slider\"], [1, \"status-grid\"], [1, \"status-item\", 3, \"ngClass\"], [1, \"status-icon\"], [1, \"status-details\"], [\"class\", \"status-item\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"nutrient-levels\"], [1, \"nutrient-grid\"], [\"class\", \"nutrient-item\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"water-level\"], [1, \"water-details\", 3, \"ngClass\"], [1, \"btn-secondary\", 3, \"click\"], [1, \"usage-chart\"], [3, \"data\", \"labels\", \"label\", \"type\"], [1, \"btn-primary\", 3, \"click\"], [1, \"nutrient-item\", 3, \"ngClass\"], [1, \"nutrient-icon\"], [1, \"nutrient-details\"]],\n      template: function LogisticsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Logistics Panel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 2);\n          i0.ɵɵtext(5, \"Monitor and control your system's water, nutrients, and equipment status.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, LogisticsComponent_div_6_Template, 4, 0, \"div\", 3)(7, LogisticsComponent_div_7_Template, 55, 18, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.ChartComponent],\n      styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n    });\n  }\n}","map":{"version":3,"names":["Subject","takeUntil","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LogisticsComponent_div_7_div_29_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r6","pump_r4","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","activatePump","id","ɵɵproperty","status","ɵɵadvance","ɵɵtextInterpolate1","ɵɵtextInterpolate","LogisticsComponent_div_7_div_36_Template_button_click_8_listener","_r9","nutrient_r7","ctx_r8","refillNutrient","ctx_r3","getStatusClass","percentage","name","LogisticsComponent_div_7_Template_input_change_10_listener","_r11","ctx_r10","toggleAutomationMode","ɵɵtemplate","LogisticsComponent_div_7_div_29_Template","LogisticsComponent_div_7_div_36_Template","LogisticsComponent_div_7_Template_button_click_45_listener","ctx_r12","refillWater","ctx_r1","isAutoMode","systemStatus","connectionStatus","powerStatus","pumps","nutrientLevels","waterLevel","usageData","usageDates","nutrientData","LogisticsComponent","constructor","logisticsService","destroy$","automationMode","lastUpdated","Date","message","level","unit","current","capacity","isLoading","usageChartData","labels","datasets","chartOptions","responsive","maintainAspectRatio","scales","y","beginAtZero","ngOnInit","loadLogisticsData","loadUsageChart","ngOnDestroy","next","complete","getNutrientLevels","pipe","subscribe","nutrients","error","console","getWaterLevel","water","getSystemStatus","getUsageHistory","data","dates","waterUsage","nutrientAUsage","newMode","setAutomationMode","toLowerCase","log","pumpId","nutrientId","confirmNutrientRefill","confirmWaterRefill","ɵɵdirectiveInject","i1","LogisticsService","selectors","decls","vars","consts","template","LogisticsComponent_Template","rf","ctx","LogisticsComponent_div_6_Template","LogisticsComponent_div_7_Template"],"sources":["/home/injinia/eden-link/src/app/features/logistics/logistics.component.ts","/home/injinia/eden-link/src/app/features/logistics/logistics.component.html"],"sourcesContent":["// src/app/features/logistics/logistics.component.ts\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { LogisticsService } from '../../core/services/logistics.service';\nimport { SystemStatus, NutrientLevel, WaterLevel, UsageHistory, PumpStatus } from '../../core/models/system-status.model';\nimport { ChartData, ChartOptions } from 'chart.js';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-logistics',\n  templateUrl: './logistics.component.html',\n  styleUrls: ['./logistics.component.scss']\n})\nexport class LogisticsComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  \n  systemStatus: SystemStatus = {\n    connectionStatus: 'disconnected',\n    powerStatus: 'off',\n    automationMode: 'manual',\n    pumps: [] as PumpStatus[],\n    lastUpdated: new Date(),\n    status: 'operational',\n    message: 'System initialized'\n  };\n\n  nutrientLevels: NutrientLevel[] = [{\n    id: 'nutrient-a',\n    name: 'Nutrient A',\n    level: 0,\n    percentage: 0,\n    unit: 'ppm',\n    status: 'normal',\n    lastUpdated: new Date()\n  }];\n\n  waterLevel: WaterLevel = {\n    current: 0,\n    capacity: 100,\n    percentage: 0,\n    status: 'normal',\n    lastUpdated: new Date()\n  };\n\n  isLoading = true;\n  isAutoMode = true;\n  \n  // Chart properties\n  usageChartData: ChartData = {\n    labels: [],\n    datasets: []\n  };\n  \n  chartOptions: ChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  };\n  \n  // Chart data properties\n  usageData: number[] = [];\n  nutrientData: number[] = [];\n  usageDates: string[] = [];\n\n  constructor(private logisticsService: LogisticsService) {}\n\n  ngOnInit(): void {\n    this.loadLogisticsData();\n    this.loadUsageChart();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  loadLogisticsData(): void {\n    this.isLoading = true;\n    \n    this.logisticsService.getNutrientLevels().pipe(takeUntil(this.destroy$)).subscribe({\n      next: (nutrients) => {\n        this.nutrientLevels = nutrients;\n      },\n      error: (error) => {\n        console.error('Error loading nutrient levels:', error);\n      }\n    });\n    \n    this.logisticsService.getWaterLevel().pipe(takeUntil(this.destroy$)).subscribe({\n      next: (water) => {\n        this.waterLevel = water;\n      },\n      error: (error) => {\n        console.error('Error loading water level:', error);\n      }\n    });\n    \n    this.logisticsService.getSystemStatus().pipe(takeUntil(this.destroy$)).subscribe({\n      next: (status) => {\n        this.systemStatus = status;\n        this.isAutoMode = status.automationMode === 'auto';\n        this.isLoading = false;\n      },\n      error: (error) => {\n        console.error('Error loading system status:', error);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  loadUsageChart(): void {\n    this.logisticsService.getUsageHistory().pipe(takeUntil(this.destroy$)).subscribe({\n      next: (data) => {\n        this.usageDates = data.dates;\n        this.usageData = data.waterUsage;\n        this.nutrientData = data.nutrientAUsage;\n      },\n      error: (error) => {\n        console.error('Error loading usage history:', error);\n      }\n    });\n  }\n\n  toggleAutomationMode(): void {\n    const newMode = this.isAutoMode ? 'manual' : 'auto';\n    \n    this.logisticsService.setAutomationMode(newMode).pipe(takeUntil(this.destroy$)).subscribe({\n      next: (status) => {\n        this.systemStatus = status;\n        this.isAutoMode = (status && status.automationMode?.toLowerCase?.()) === 'auto';\n        console.log(`Automation mode set to ${this.isAutoMode ? 'auto' : 'manual'}`);\n      },\n      error: (error) => {\n        console.error('Error toggling automation mode:', error);\n        // Reset the toggle if there was an error\n        this.isAutoMode = !this.isAutoMode;\n      }\n    });\n  }\n\n  activatePump(pumpId: string): void {\n    this.logisticsService.activatePump(pumpId).pipe(takeUntil(this.destroy$)).subscribe({\n      next: (status) => {\n        this.systemStatus = status;\n      },\n      error: (error) => {\n        console.error(`Error activating pump ${pumpId}:`, error);\n      }\n    });\n  }\n\n  refillNutrient(nutrientId: string): void {\n    this.logisticsService.confirmNutrientRefill(nutrientId).pipe(takeUntil(this.destroy$)).subscribe({\n      next: (nutrients) => {\n        this.nutrientLevels = nutrients;\n      },\n      error: (error) => {\n        console.error(`Error confirming refill for nutrient ${nutrientId}:`, error);\n      }\n    });\n  }\n\n  refillWater(): void {\n    this.logisticsService.confirmWaterRefill().pipe(takeUntil(this.destroy$)).subscribe({\n      next: (water) => {\n        this.waterLevel = water;\n      },\n      error: (error) => {\n        console.error('Error confirming water refill:', error);\n      }\n    });\n  }\n\n  getStatusClass(percentage: number): string {\n    if (percentage <= 20) return 'critical';\n    if (percentage <= 40) return 'warning';\n    return 'normal';\n  }\n}","<div class=\"logistics-container\">\n    <section class=\"section-header\">\n      <h1>Logistics Panel</h1>\n      <p class=\"section-description\">Monitor and control your system's water, nutrients, and equipment status.</p>\n    </section>\n  \n    <div class=\"loading-container\" *ngIf=\"isLoading\">\n      <div class=\"loading-spinner\"></div>\n      <p>Loading logistics data...</p>\n    </div>\n  \n    <div class=\"logistics-content\" *ngIf=\"!isLoading\">\n      <!-- System Status Section -->\n      <section class=\"system-status\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h2>System Status</h2>\n            <div class=\"automation-toggle\">\n              <span class=\"toggle-label\">{{ isAutoMode ? 'Auto' : 'Manual' }} Mode</span>\n              <label class=\"switch\">\n                <input type=\"checkbox\" [checked]=\"isAutoMode\" (change)=\"toggleAutomationMode()\">\n                <span class=\"slider\"></span>\n              </label>\n            </div>\n          </div>\n  \n          <div class=\"status-grid\">\n            <div class=\"status-item\" [ngClass]=\"systemStatus?.connectionStatus\">\n              <div class=\"status-icon\">📡</div>\n              <div class=\"status-details\">\n                <h3>Connection</h3>\n                <p>{{ systemStatus?.connectionStatus }}</p>\n              </div>\n            </div>\n            \n            <div class=\"status-item\" [ngClass]=\"systemStatus?.powerStatus\">\n              <div class=\"status-icon\">⚡</div>\n              <div class=\"status-details\">\n                <h3>Power</h3>\n                <p>{{ systemStatus?.powerStatus }}</p>\n              </div>\n            </div>\n            \n            <div class=\"status-item\" *ngFor=\"let pump of systemStatus?.pumps\" [ngClass]=\"pump.status\">\n              <div class=\"status-icon\">💧</div>\n              <div class=\"status-details\">\n                <h3>Pump {{ pump.id }}</h3>\n                <p>{{ pump.status }}</p>\n                <button class=\"btn-primary\" (click)=\"activatePump(pump.id)\">Activate</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n  \n      <!-- Nutrient Levels Section -->\n      <section class=\"nutrient-levels\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h2>Nutrient Levels</h2>\n          </div>\n          <div class=\"nutrient-grid\">\n            <div class=\"nutrient-item\" *ngFor=\"let nutrient of nutrientLevels\" [ngClass]=\"getStatusClass(nutrient.percentage)\">\n              <div class=\"nutrient-icon\">🧪</div>\n              <div class=\"nutrient-details\">\n                <h3>{{ nutrient.name }}</h3>\n                <p>{{ nutrient.percentage }}%</p>\n                <button class=\"btn-secondary\" (click)=\"refillNutrient(nutrient.id)\">Refill</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n  \n      <!-- Water Level Section -->\n      <section class=\"water-level\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h2>Water Level</h2>\n          </div>\n          <div class=\"water-details\" [ngClass]=\"getStatusClass(waterLevel?.percentage)\">\n            <h3>{{ waterLevel?.percentage }}%</h3>\n            <button class=\"btn-secondary\" (click)=\"refillWater()\">Refill</button>\n          </div>\n        </div>\n      </section>\n  \n      <!-- Usage Chart Section -->\n      <div class=\"usage-chart\">\n        <h3>Water Usage History</h3>\n        <app-chart\n          [data]=\"usageData\"\n          [labels]=\"usageDates\"\n          [label]=\"'Water Usage (L)'\"\n          [type]=\"'line'\">\n        </app-chart>\n      </div>\n  \n      <!-- Nutrient Usage Chart -->\n      <div class=\"usage-chart\">\n        <h3>Nutrient Usage History</h3>\n        <app-chart\n          [data]=\"nutrientData\"\n          [labels]=\"usageDates\"\n          [label]=\"'Nutrient Usage (mL)'\"\n          [type]=\"'line'\">\n        </app-chart>\n      </div>\n    </div>\n  </div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}